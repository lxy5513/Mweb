# 去噪声 

由于骨骼点数据往往包含很多噪声，我们首先对数据进行了一些去噪操作，将基准值提升到了92.7。去噪操作分为四步：

<br>

1、基于骨架标识符将同一人体的骨架对齐：深度摄像头在检测人体骨骼点数据时会为每个人体分配一个body id，由于摄像头的误检，同一个人体在不同帧内可能会分配不一样的id。为了使人体的id具有一致性，在本算法中，我们会在每一次id消失的时候检测是否有新的id出现。如果有，就认为新的id是误分配，并把旧的id赋值给新出现的id。


<br>

2、基于骨架能量的过滤：骨骼点数据会经常出现误检，即把桌子椅子等物体检测为人体。为了过滤掉这些误捡，我们定义了一个骨骼点序列能量概念：即所有关节点的三维坐标在时间维度上标准差的平均值。由于物体通常是静止的，所以误检的物体的能量会低于人体的能量。我们会设定一个阈值过滤掉这些物体。

<br>

3、坐标数据归一化：为了统一数据的分布，减少人体中心在图像中的位置所带来地影响，简化模型训练过程。对于每一个序列，我们会以第一帧第一个人体的中心骨骼点为坐标系的原点，将其他帧归一化到这个坐标系中。具体做法就是将每个关节点的坐标减去这个中心点的坐标。

<br>

4、视角归一化：为了减少视角对于模型训练的影响，我们将每一帧的人体都旋转到一个固定的角度。具体方法是我们会以第一帧第一个人体为基准求一个旋转矩阵，使得这个人体的左肩与右肩连成的直线与坐标系的x轴平行，这个人体的脊柱与坐标系的z轴平行。