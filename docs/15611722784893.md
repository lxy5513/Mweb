# 加密传输 

## HTTP
     Hypertext transfer protocol, 超文本传输协议。一种接收、发送文本、图像的信息的协议、规则。
     
    
## HTTPS 
    Hyper Text Transfer Protocol Secure 。是HTTP的一种安全版本。意味着所有的在浏览器和网站的通信都是加密的。为了防止 Man in Middle.
    
   
## 如何加密
    Encryption 编码 
    编码是一种简单的隐藏信息的方法，两种https编码：128 bit 和 64 bit.前者更安全。
    
    
## 如何编码 
    基于两种协议：TLS(Transport Layer Security) and SSL(Secure Sockert Security)
    SSL：
        SSL（安全套接字层）是一种标准安全协议，用于在在线通信中建立Web服务器和浏览器之间的加密链接
    TLS：
        是SSL的升级版
    
    用途：  
      -  所有信息都是加密传播，第三方无法窃听。
      -  具有校验机制，一旦被篡改，通信双方会立刻发现。
      -  配备身份证书，防止身份被冒充。 

    
## SSL/TLS 协议思路 
采用公钥加密法。

    客户端先向服务器端所要公钥，然后使用公钥加密信息，服务器收到密文后，用自己的私钥来解密。
    
    如何保证公钥不被篡改？ 
        - 将公钥放在数字证书中，只要证书是可信的，公钥就是可信的。 
    
        如何保证证书可信？ 

## SSL证书 
SSL 证书就是遵守 SSL协议，由受信任的数字证书颁发机构**CA**，在验证服务器身份后颁发，具有**服务器身份验证**和**数据传输加密**功能 

申请证书步骤 
- 制作CSR(Certificate Signing Request)文件
    这个文件是由申请人制作，在制作的同时，系统会产生两个密钥，一个是公钥就是这个==CSR==文件，另外一个是私钥，存放在服务器中。（使用OPEMSSL命令） 

- CA认证 
    - 域名认证 
            一般通过对管理员邮箱认证的方式，这种方式认证速度快，但是签发的证书中没有企业的名称
    - 企业文档认证
            需要提供企业的营业执照。一般需要3-5个工作日。 也有需要同时认证以上2种方式的证书，叫EV证书，这种证书可以使IE7以上的浏览器地址栏变成绿色，所以认证也最严格。
            
- 证书的安装 
        在收到CA的证书后，可以将证书部署上服务器，一般APACHE文件直接将KEY+CER复制到文件上，然后修改HTTPD.CONF文件
    
    
## SSL是怎么工作流程 
- 客户端向服务器端索要并验证公钥。
- 双方协商生成”对话密钥”。
- 双方采用”对话密钥”进行加密通信。      
    每一次对话（session），客户端和服务器端都生成一个”会话密钥”（session key），用它来加密信息。由于”对话密钥”是对称加密，所以运算速度非常快，而服务器公钥加密是非对称加密，比较耗时间，所以证书里面的**公钥只用于加密”会话密钥”本身**，这样就减少了加密运算的消耗时间。