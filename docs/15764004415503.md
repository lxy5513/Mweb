# README 

# c++ 编译流程 



`source code` -> `processor` -> `compiler` -> `assembler` -> `object code` -> `linker` -> `executablrs` 

###  预处理

   读取c++源程序 对其中的伪指令（以#开头的指令）进行处理 这个过程会得到不包含#指令的.i文件

   - 将所有 #define 删除 并展开所有宏定义 
   - 处理所有条件编译指令 
   - 处理 #include预编译指令 将被包含的文件插入到该预编译指令的位置 

   ```
   1.预处理 -E    (源文件->预处理文件)
   g++   -E   hello.cpp   -o  hello.ii
   ```

### 编译

将预处理完的文件进行一系列词法分析、语法分析、语义分析以优化后，产生相应的汇编文件代码 
将.i文件转化位.s文件
    
    ```
    2.编译 -S      (预处理文件->汇编语言文件)
    g++   -S  hello.ii   
    或者 g++  -S  hello.cpp
    默认生成hello.s，
    -S必须大写，小写会报错
    ```

### 汇编 

将编译完的汇编代码文件翻译成机器指令 并生成可重定位的目标程序的`.o`文件。该文件为二进制文件， 字节编码是机器指令 

    
    ```
    3.汇编 -c    (汇编语言文件->可重定向的目标文件（二进制形式）)
    g++  -c   hello.s
    或者 g++  -c  hello.cpp
    默认生成 hello.o  目标文件，为乱码
    ```

### 链接

   将一个个目标文件（或者库文件）链接在一起生成一个完整的可执行程序 

    
   ```
   链接    多个.o文件->可执行文件
   比如有1.cpp，2.cpp
   g++ -c  2.cpp     //生成2.o
   g++ -c  1.cpp     //生成1.o
   g++  1.o   2.o    -o   hello.out    //直接1.o 跟上2.o  ，用空格隔开即可，指定为hello
   
   链接时有时会需要用-l 加入链接的第三方库，如g++  hello.o  -l  curl
   ```



